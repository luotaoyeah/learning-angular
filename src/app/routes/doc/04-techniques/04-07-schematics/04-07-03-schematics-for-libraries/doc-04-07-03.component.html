<nz-collapse [nzAccordion]="true">
  <nz-collapse-panel
    nzHeader="Creating a Schematics Collection"
    nzExpandedIcon="caret-right"
  >
    <p>
      <b>如何给一个 angular library project 添加 schematics 支持?</b>
    </p>
    <ul>
      <li>在 library root 中创建一个 <code>schematics</code> 目录</li>
      <li>
        在 <code>schematics</code> 目录中添加一个
        <code>collection.json</code> 文件
      </li>
      <li>
        在 library 的 package.json 中添加一个属性:
        <code>"schematics": "./schematics/collection.json"</code>
      </li>
    </ul>
  </nz-collapse-panel>

  <nz-collapse-panel
    nzHeader="Providing Installation Support"
    nzExpandedIcon="caret-right"
  >
    <p>
      <b>
        通常 library 中的 schematics 需要支持通过
        <code>ng add @luotao/learning-angular-lib</code> 命令执行安装操作,
        如何实现?
      </b>
    </p>
    <ul>
      <li>
        在 collection.json#schematics 中添加一个名为 ng-add 的 schematic
      </li>
      <li>
        在 ng-add 的 factory function 中, 调用
        <code>context.addTask(new NodePackageInstallTask())</code> 执行安装
      </li>
    </ul>
  </nz-collapse-panel>

  <nz-collapse-panel
    nzHeader="Building Your Schematics"
    nzExpandedIcon="caret-right"
  >
    <p>
      schematics 和 library 需要分开编译构建, 先构建 library, 再构建 schematics
    </p>
    <ul>
      <li>
        首先为 schematics 创建一个单独的 <code>tsconfig.schematics.json</code>,
        并正确配置 rootDir 和 outDir
      </li>
      <li>将 <code>collection.json</code> 等文件复制到对应的目录</li>
    </ul>
  </nz-collapse-panel>

  <nz-collapse-panel
    nzHeader="Providing Generation Support"
    nzExpandedIcon="caret-right"
  >
    <app-doc-04-07-03-02></app-doc-04-07-03-02>
  </nz-collapse-panel>
</nz-collapse>
