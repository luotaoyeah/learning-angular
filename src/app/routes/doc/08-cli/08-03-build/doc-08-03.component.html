<nz-collapse [nzAccordion]="true">
  <nz-collapse-panel nzHeader="ng build" nzExpandedIcon="caret-right">
    <p>
      <b>`ng build`</b> 使用 webpack 进行构建打包, 默认的配置选项位于
      angular.json#projects.learning-angular.architect.build
    </p>

    <p>
      当使用 --prod 参数时, 就会使用
      angular.json#projects.learning-angular.architect.build.configurations.production
      下面的配置
    </p>

    <p>
      angular.json#projects.learning-angular.architect.build.options 和
      angular.json#projects.learning-angular.architect.build.configurations.production
      下面的配置, 大部分都是跟命令行参数一一对应的, 但是命令行参数可以使用
      camelCase 和 dash-case 两种格式, 但是 angular.json 配置文件中只能使用
      camelCase 格式; 有一部分配置选项只能在 angular.json 中配置, 如:
      assets/styles/scripts
    </p>
  </nz-collapse-panel>
  <nz-collapse-panel nzHeader="Options" nzExpandedIcon="caret-right">
    <ul>
      <li>
        <nz-tag>--aot = true | <b>false</b></nz-tag>
        Build using Ahead Of Time compilation
      </li>
      <li>
        <nz-tag>--baseHref = string</nz-tag>
        Base url
      </li>
      <li>
        <nz-tag>--buildOptimizer = true | <b>false</b></nz-tag>
        enable `@angular-devkit/build-optimizer` when using `--aot`,
        即必须同时启用 --aot
      </li>
      <li>
        <nz-tag>--commonChunk = <b>true</b> | false</nz-tag>
        是否将被多个 bundle 使用的代码放到一个单独的 bundle 中去
      </li>
      <li>
        <nz-tag>--configuration / -c = string</nz-tag>
        angular.json#projects.learning-angular.architect.build.configurations
        下面定义了多个命名的 build target, 通过 --configuration
        可以指定要使用哪个 build target
      </li>
      <li>
        <nz-tag>--deleteOutputPath = <b>true</b> | false</nz-tag>
        在 build 之前, 是否删除输出目录(dist)
      </li>
      <li>
        <nz-tag>--deployUrl = string</nz-tag>
        打包后, index.html 中资源文件(.js/.css)路径前面的前缀
      </li>
      <li>
        <nz-tag>--es5BrowserSupport = true | <b>false</b></nz-tag>
        是否启用 ES2015 polyfill
      </li>
      <li>
        <nz-tag>--extractCss = true | <b>false</b></nz-tag>
        是否将 CSS 提取到单独的文件, 否则会将 CSS 嵌入到 JS 文件中去
      </li>
      <li>
        <nz-tag>--extractLicenses = true | <b>false</b></nz-tag>
        是否将所有的 licenses 提取到一个单独的 txt 文件中去
      </li>
      <li>
        <nz-tag>--forkTypeChecker = <b>true</b> | false</nz-tag>
        是否在一个 forked process 中执行 TypeScript 的类型检查
      </li>
      <li>
        <nz-tag>--index = string</nz-tag>
        HTML 入口文件的路径
      </li>
      <li>
        <nz-tag>--main = string</nz-tag>
        JS/TS 入口文件的路径
      </li>
      <li>
        <nz-tag>--namedChunks = <b>true</b> | false</nz-tag>
        是否使用文件名来加载 lazy-loaded chunks, 否则使用数字
      </li>
      <li>
        <nz-tag>--ngswConfigPath = string</nz-tag>
        ngsw-config.json 文件的路径, ngsw 表示 angular service worker
      </li>
      <li>
        <nz-tag>
          --optimization = true | false | {{ '{' }} scripts: boolean, styles:
          boolean }
        </nz-tag>
        是否对打包的文件进行优化
      </li>
      <li>
        <nz-tag>--outputHashing = none | all | media | bundles</nz-tag>
        是否根据文件的内容计算 hash 值, 并将 hash 作为文件名的一部分
        <ul>
          <li>
            <nz-tag>none</nz-tag>
            所有文件都不计算
          </li>
          <li>
            <nz-tag>all</nz-tag>
            所有文件都要计算
          </li>
          <li>
            <nz-tag>media</nz-tag>
            只计算媒体文件(图片/字体/视频)
          </li>
          <li>
            <nz-tag>bundles</nz-tag>
            只计算 JS/CSS 文件
          </li>
        </ul>
      </li>
      <li>
        <nz-tag>--outputPath = string</nz-tag>
        打包之后文件的存放目录, 默认为 dist/
      </li>
      <li>
        <nz-tag>--polyfills = string</nz-tag>
        polyfill 文件的路径
      </li>
      <li>
        <nz-tag>--prod = true | <b>false</b></nz-tag>
        是否启用 production 配置, 当设置为 true 时, 会启用
        angular.json#projects.learning-angular.architect.build.configurations.production
        下面的配置
      </li>
    </ul>
  </nz-collapse-panel>
</nz-collapse>
